RewriteEngine On

# Protect /admin routes with HTTP Basic Authentication
# Only protect admin URLs, not the entire site
<If "%{REQUEST_URI} =~ m#^/admin#">
    AuthType Basic
    AuthName "Admin Access"
    AuthUserFile /home/msorvillo/onetrillionsmiles.com/config/.htpasswd
    Require valid-user
</If>

# Handle Angular, React, Vue Router, etc. - forward all requests to index.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [QSA,L]