RewriteEngine On

# Protect entire site with HTTP Basic Authentication (temporary)
# Exclude static assets (css, js, images)
<If "%{REQUEST_URI} !~ m#\.(css|js|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot)$#">
    AuthType Basic
    AuthName "Site Access"
    AuthUserFile /home/msorvillo/onetrillionsmiles.com/config/.htpasswd
    Require valid-user
</If>

# Handle Angular, React, Vue Router, etc. - forward all requests to index.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [QSA,L]